webpackJsonp([16],{260:function(e,t,n){n(432);var a=n(171)(n(375),n(460),null,null);e.exports=a.exports},375:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=n(17);t.default={mounted:function(){this.getBranches()},data:function(){return{user:o.a.user,tokenData:o.a.tokenData,branches:[],company:[],selectCompany:""}},methods:{getBranches:function(){var e=this,t={condition:[{column:"account_id",value:this.user.userID,clause:"="}],with_foreign_table:["company_branch"]};this.APIRequest("company_branch_employee/retrieve",t).then(function(t){e.branches=t.data,e.getCompanyDetails()})},getCompanyDetails:function(){for(var e=this,t=0;t<this.branches.length;t++){var n={condition:[{column:"id",clause:"=",value:this.branches[t].company_branch.company_id}]};this.APIRequest("company/retrieve",n).then(function(t){e.company.push(t.data)})}console.log(this.company)},loadSelectedBranch:function(){o.a.setCompany(1,this.selectCompany),a.a.push("dashboard")}}}},408:function(e,t,n){t=e.exports=n(250)(),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"CompanySelection.vue",sourceRoot:""}])},432:function(e,t,n){var a=n(408);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(251)("4a10768f",a,!0)},460:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-fluid"},[n("br"),e._v(" "),n("br"),e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6 offset-md-4"},[n("h4"),e._v(" "),n("p",[n("b",[e._v("Hi "+e._s(e.user.username))]),e._v("!\n\n      "),n("br"),e._v(" "),n("br"),e._v(" "),n("i",[e._v("Greetings!")]),e._v(" "),n("br"),e._v(" "),n("br"),e._v("\n      You have multiple Companies or Branches and you can only load one branch or company at a time. \n\n      "),n("br"),n("br"),e._v("Please select options below and click load.")])])]),e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-6 offset-sm-3"},[n("div",{staticClass:"input-group"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectCompany,expression:"selectCompany"}],staticClass:"form-control",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectCompany=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"",selected:"",hidden:""}},[e._v("Select a Company or Branches")]),e._v(" "),e._l(e.company,function(t,a){return n("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])})],2)]),e._v(" "),n("br"),e._v(" "),n("div",[n("button",{staticClass:"btn btn-primary btn-lg pull-right",on:{click:function(t){e.loadSelectedBranch()}}},[n("i",{staticClass:"fa fa-spinner",attrs:{"aria-hidden":"true"}}),e._v(" Load\n            ")])])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=16.d539c24e3106de75a3dd.js.map