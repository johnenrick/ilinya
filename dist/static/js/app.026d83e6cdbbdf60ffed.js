webpackJsonp([9],[,function(t,e,a){"use strict";(function(t){var n=a(0),o=a.n(n),s=a(36),r=(a(4),a(2)),i=a(15),u=(a(14),a(16)),c=(a.n(u),a(32));a.n(c);t.jQuery=a(8),t.$=t.jQuery,a(31),a(18),a(33),r.a.checkAuthentication(),o.a.use(s.a),e.a=new s.a({routes:i.a.routes})}).call(e,a(5))},function(t,e,a){"use strict";var n=(a(1),a(1)),o=a(0),s=a.n(o);e.a={user:{userID:0,username:"",type:0},tokenData:{token:null,tokenTimer:!1,verifyingToken:!1},currentPath:!1,setUser:function(t,e,a){null===t&&(e=null,a=null),this.user.userID=1*t,this.user.username=e,this.user.type=1*a},setToken:function(t){var e=this;this.tokenData.token=t,localStorage.setItem("usertoken",t),t&&setTimeout(function(){console.log("hey"),(new s.a).APIRequest("authenticate/refresh",{},function(t){e.setToken(t.token)},function(t){n.a.go("/")})},3e6)},authenticate:function(t,e,a,n){var o=this,r=new s.a,i={username:t,password:e};r.APIRequest("authenticate",i,function(t){o.setToken(t.token),r.APIRequest("authenticate/user",{},function(t){o.setUser(t.id,t.username,t.user_type_id),a&&a(t)})},function(t,e){n&&n(t,e)})},checkAuthentication:function(t){var e=this;this.tokenData.verifyingToken=!0;var a=localStorage.getItem("usertoken");if(a){this.setToken(a);return(new s.a).APIRequest("authenticate/user",{},function(t){e.setUser(t.id,t.username,t.user_type_id),e.tokenData.verifyingToken=!1,e.currentPath&&n.a.push({path:e.currentPath})},function(t){e.setToken(null),e.tokenData.verifyingToken=!1,console.log(e.currentPath),"/admin"===e.currentPath?(console.log("hey"),n.a.push({path:e.currentPath})):n.a.push({path:"/"})}),!0}return this.tokenData.verifyingToken=!1,this.setUser(null),!1},deaunthenticate:function(){localStorage.removeItem("usertoken"),this.setUser(null),(new s.a).APIRequest("authenticate/invalidate")}}},function(t,e,a){"use strict";e.a={hasShownModal:!1}},function(t,e,a){"use strict";var n="http://finegrabzapi.johnenrick.com";e.a={API_URL:n+"/api/",IMAGE_URL:n+"/image/"}},,function(t,e,a){a(34);var n=a(7)(a(17),a(35),null,null);t.exports=n.exports},,,function(t,e,a){"use strict";var n=a(4),o=a(0),s=a.n(o),r=a(2);a(1);s.a.mixin({mounted:function(){},methods:{APIRequest:function(t,e,a,o){var s=this,i=r.a.tokenData.token?"?token="+r.a.tokenData.token:"";return jQuery.post(n.a.API_URL+t+i,e,function(t){s.APISuccessRequestHandler(t,a)}).fail(function(e){s.APIFailRequestHandler(t,e,o)})},APIFormRequest:function(t,e,a,o){var s=this,i=r.a.tokenData.token?"?token="+r.a.tokenData.token:"",u=new FormData($(e)[0]);$.ajax({url:n.a.API_URL+t+i,type:"POST",data:u,async:!1,success:function(t){s.APISuccessRequestHandler(t,a)},error:function(e){s.APIFailRequestHandler(t,e,o)},cache:!1,contentType:!1,processData:!1})},APISuccessRequestHandler:function(t,e){e&&e(t)},APIFailRequestHandler:function(t,e,a){switch(e.status){case 401:a&&a(e.responseJSON,e.status);break;default:a&&a(e.responseJSON,e.status)}}}})},function(t,e,a){"use strict";var n=a(0),o=a.n(n);a(3);o.a.mixin({methods:{listDatabaseConstants:function(t,e,a,n){var s={with_soft_delete:!0};a.datetime_updated&&(s.condition=[{column:"updated_at",clause:">",value:a.datetime_updated}]),this.APIRequest(t,s,function(t){var e=t;if(o.a.set(a.options,0,{text:"Select",value:null}),e.data)for(var s in e.data)o.a.set(a.options,+e.data[s].id,{text:e.data[s].description,value:e.data[s].id}),new Date(e.data[s].updated_at)>new Date(a.datetime_updated)&&(a.datetime_updated=e.data[s].updated_at);n(t)})}}})},function(t,e,a){"use strict";var n=a(0),o=a.n(n),s=a(3),r=a(4);o.a.mixin({data:function(){return{IMAGE_URL:r.a.IMAGE_URL}},methods:{modal:function(t){"show"===t?s.a.hasShownModal=!0:"close"===t&&(s.a.hasShownModal=!1)},sampleHelper:function(){return"hello world"}}})},function(t,e,a){"use strict";var n=a(0);a.n(n).a.mixin({methods:{StringToCamelCase:function(){}}})},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(0),o=a.n(n),s=a(6),r=a.n(s),i=a(1);new o.a({el:"#app",router:i.a,template:"<App/>",components:{App:r.a}})},function(t,e,a){"use strict";a(12),a(9),a(11),a(10)},function(t,e,a){"use strict";var n=a(2),o=function(t,e,a){n.a.currentPath=t.path,n.a.user.userID||t.meta.tokenRequired!==!0?a():"login"!==t.name?n.a.tokenData.verifyingToken||a({path:"/"}):n.a.tokenData.verifyingToken||a()};e.a={routes:[{path:"/",name:"home",component:function(t){return a.e(4).then(function(){var e=[a(41)];t.apply(null,e)}.bind(this)).catch(a.oe)},beforeEnter:o},{path:"/admin",name:"login",component:function(t){return a.e(7).then(function(){var e=[a(42)];t.apply(null,e)}.bind(this)).catch(a.oe)},beforeEnter:function(t,e,a){n.a.currentPath=t.path,n.a.user.userID?a({path:1===n.a.user.type?"/product_management":"/cashier"}):n.a.tokenData.verifyingToken||a()}},{path:"/employeeManagement",name:"employeeManagement",component:function(t){return a.e(2).then(function(){var e=[a(40)];t.apply(null,e)}.bind(this)).catch(a.oe)},beforeEnter:o,meta:{tokenRequired:!0}},{path:"/test",name:"test",component:function(t){return a.e(3).then(function(){var e=[a(47)];t.apply(null,e)}.bind(this)).catch(a.oe)},beforeEnter:o},{path:"/order_confirmed",name:"orderConfirmed",component:function(t){return a.e(6).then(function(){var e=[a(43)];t.apply(null,e)}.bind(this)).catch(a.oe)},beforeEnter:o},{path:"/about",name:"aboutUs",component:function(t){return a.e(5).then(function(){var e=[a(44)];t.apply(null,e)}.bind(this)).catch(a.oe)},beforeEnter:o},{path:"/product_management",name:"productManagement",component:function(t){return a.e(1).then(function(){var e=[a(45)];t.apply(null,e)}.bind(this)).catch(a.oe)},beforeEnter:o,meta:{tokenRequired:!0}},{path:"/product_order_management",name:"productOrderManagement",component:function(t){return a.e(0).then(function(){var e=[a(46)];t.apply(null,e)}.bind(this)).catch(a.oe)},beforeEnter:o,meta:{tokenRequired:!0}}]}},function(t,e){},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(1),o=a(2),s=a(3);e.default={name:"app",mounted:function(){},data:function(){return{user:o.a.user,tokenData:o.a.tokenData,currentRoute:n.a.currentRoute.name,deviceHeight:document.documentElement.clientHeight,appGlobal:{showModal:!1},globalVariables:s.a}},methods:{logOut:function(){o.a.deaunthenticate(),n.a.push({path:"/"})}}}},,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"80%"},attrs:{id:"app"}},[a("div",{staticStyle:{"min-height":"100%"},style:t.globalVariables.showModal?"overflow-y:hidden; height:"+t.deviceHeight+"px!important":""},[t.tokenData.verifyingToken?a("div",[t._v("\n      Loading please wait. "+t._s(t.tokenData.verifyingToken)+"\n    ")]):a("div",{},[a("nav",{staticClass:"navbar navbar-default navbar-fixed-top navbar-custom affix-top",class:3===t.user.type?"navbar-fixed-top half-width push-half-right":"",attrs:{id:"mainNav"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"navbar-header"},[t._m(0),t._v(" "),a("router-link",{ref:"logo",staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("FineGrabz")])],1),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"bs-example-navbar-collapse-1"}},[a("ul",{staticClass:"nav navbar-nav"},[1===t.user.type?a("li",[a("router-link",{attrs:{to:"/product_management"}},[t._v(" Products")])],1):t._e(),t._v(" "),1===t.user.type?a("li",[a("router-link",{attrs:{to:"/product_order_management"}},[t._v(" Orders")])],1):t._e()]),t._v(" "),a("ul",{staticClass:"nav navbar-nav navbar-right"},[a("li",[a("router-link",{attrs:{to:"/about"}},[t._v("About")])],1),t._v(" "),t.user.userID?a("li",{staticClass:"dropdown"},[a("a",{staticClass:"dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                  Hi "),a("span",{staticClass:"text-uppercase"},[t._v(t._s(t.user.username))]),t._v("! "),a("i",{staticClass:"fa fa-caret-down",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("ul",{staticClass:"dropdown-menu"},[a("li",{staticClass:"divider",attrs:{role:"separator"}}),t._v(" "),a("li",[a("a",{on:{click:t.logOut}},[a("i",{staticClass:"fa fa-power-off",attrs:{"aria-hidden":"true"}}),t._v(" Log Out")])])])]):t._e()])])])]),t._v(" "),a("div",{staticClass:"content",staticStyle:{"min-height":"100%"}},[a("transition",[a("router-view")],1)],1)])]),t._v(" "),a("footer",{staticClass:"text-center"},[a("div",{staticClass:"footer-above"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row text-left"},[t._m(1),t._v(" "),a("div",{staticClass:"footer-col col-md-7 col-md-offset-1"},[a("h3",[t._v("About Us")]),t._v(" "),a("p",{},[t._v("Finegrabz is a food delivery service dedicated on serving healthy and exciting lunches.\n                        "),a("router-link",{attrs:{to:"/about"}},[t._v("About Finegrabz!")]),t._v(".")],1)])])])]),t._v(" "),t._m(2)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggle collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#bs-example-navbar-collapse-1","aria-expanded":"false"}},[a("span",{staticClass:"sr-only"},[t._v("Toggle navigation")]),t._v(" "),a("span",{staticClass:"icon-bar"}),t._v(" "),a("span",{staticClass:"icon-bar"}),t._v(" "),a("span",{staticClass:"icon-bar"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer-col col-md-4"},[a("h3",[t._v("OUR NEA KITCHEN ADDRESS")]),t._v(" "),a("p",{staticClass:"text-left"},[t._v("\n                        6 Tebing Lane"),a("br"),t._v("\n                        #01-05"),a("br"),t._v("\n                        Singapore 828835\n                      ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer-below"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[t._v("\n                      Copyright Â© Finegrabz 2017\n                  ")])])])])}]}}],[13]);
//# sourceMappingURL=app.026d83e6cdbbdf60ffed.js.map